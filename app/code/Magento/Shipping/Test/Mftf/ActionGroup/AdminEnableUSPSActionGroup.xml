<?xml version="1.0" encoding="UTF-8"?>
    <!--
     /**
      * Copyright Â© Magento, Inc. All rights reserved.
      * See COPYING.txt for license details.
      */
    -->

<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">
    <actionGroup name="AdminEnableUSPSActionGroup">
        <annotations>
            <description>Enable United States Postal Service shipping method in backend</description>
        </annotations>
        <arguments>
            <argument name="shipping" defaultValue="USPSShippingMethodConfig"/>
        </arguments>
        <conditionalClick selector="{{AdminShippingMethodUSPSSection.USPSTab}}" dependentSelector="{{AdminShippingMethodUSPSSection.handlingFeeUSPS}}" visible="false" stepKey="openUSPSTab"/>
        <uncheckOption selector="{{AdminShippingMethodUSPSSection.enableCheckoutCheckboxUSPS}}" stepKey="unCheckEnableForCheckout"/>
        <selectOption selector="{{AdminShippingMethodUSPSSection.enableCheckoutSelectUSPS}}" userInput="{{shipping.enableCheckoutSelectUSPS}}" stepKey="selectEnableForCheckoutToYes"/>
        <uncheckOption selector="{{AdminShippingMethodUSPSSection.gatewayURLCheckboxUSPS}}" stepKey="unCheckGatewayURL"/>
        <fillField selector="{{AdminShippingMethodUSPSSection.gatewayURLInputUSPS}}" userInput="{{shipping.gatewayURLInputUSPS}}" stepKey="enterGatewayURL"/>
        <uncheckOption selector="{{AdminShippingMethodUSPSSection.secureGatewayURLCheckboxUSPS}}" stepKey="unCheckSecureGatewayURL"/>
        <fillField selector="{{AdminShippingMethodUSPSSection.secureGatewayURLInputUSPS}}" userInput="{{shipping.secureGatewayURLInputUSPS}}" stepKey="enterSecureGatewayURL"/>
        <fillField selector="{{AdminShippingMethodUSPSSection.usernameUSPS}}" userInput="{{_CREDS.magento/carriers_usps_userid}}" stepKey="enterUsername"/>
        <fillField selector="{{AdminShippingMethodUSPSSection.passwordUSPS}}" userInput="{{_CREDS.magento/carriers_usps_password}}" stepKey="enterPassword"/>
        <selectOption selector="{{AdminShippingMethodUSPSSection.USPSshowMethodIfNotApplicableField}}" userInput="{{shipping.USPSshowMethodIfNotApplicableField}}" stepKey="selectShowMethodIfNotApplicableToYes"/>
        <selectOption selector="{{AdminShippingMethodUSPSSection.debugSelectUSPS}}" userInput="{{shipping.debugSelectUSPS}}" stepKey="selectDebugToYes"/>
        <click selector="{{AdminConfigSection.saveButton}}" stepKey="saveConfig"/>
        <waitForText selector="{{AdminMessagesSection.success}}" userInput="You saved the configuration." stepKey="assertConfigurationSaved"/>
    </actionGroup>
</actionGroups>
